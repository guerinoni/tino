# windows.yml 

name: Windows
on:
  push:
    branches:
    - master
    - release/*
  pull_request:
    branches:
    - master
jobs:
  build:
    name: Build
    runs-on: windows-latest
    steps:
      - name: Install Qt
        uses: jurplel/install-qt-action@v2  
      - name: Checkout
        uses: actions/checkout@v1
      - name: Build Project
        shell: cmd
        run: |
          call "C:\Program Files (x86)\Microsoft Visual Studio\2019\Enterprise\VC\Auxiliary\Build\vcvars64.bat"
          cmake .
          cmake --build .
      - name: Run Tests
        shell: cmd
        run: |
          tests\tst_core\tst_core.exe
          tests\tst_parser\tst_parser.exe
